/* Add these styles */
#video-preview {
  position: absolute;
  top: 0;
  left: 0;
  width: 100vw;
  height: 100vh; /* Use vh for full viewport height */
  object-fit: cover; /* Cover the area, might crop */
  z-index: 500; /* Below controls, above canvas potentially */
  background-color: black; /* Optional: background for letterboxing */
}


body {
  margin: 0;
  padding: 0;
  overflow: hidden;
  background-color: black; /* Add a background color */
}

#canvas {
  position: absolute;
  top: 0;
  left: 0;
  width: 100vw;
  /* height: 100vh; */ /* Canvas height is set by JS */
  z-index: 1;
  object-fit: cover; /* Ensure canvas content covers */
}

.poweredbysnap-logo {
  width: auto; /* Set to auto to avoid stretching */
  position: absolute; /* Position relative to the viewport */
  bottom: 20px; /* Adjust to desired distance from the bottom */
  left: 20px; /* Adjust to desired distance from the left */
  display: flex;
  align-items: center;
  justify-content: flex-start; /* Align content within the element to the left */
  z-index: 900;
}

.poweredbysnap-logo > img {
   width: 140px; /* Slightly smaller */
}


#controls {
  position: absolute;
  bottom: 5%; /* Adjusted position */
  width: 100%;
  display: flex;
  justify-content: center;
  align-items: center; /* Center items vertically */
  z-index: 999;
}

#outline {
  position: absolute;
  /* bottom: 10%; Removed, now centered via parent #controls */
  /* left: 50%; Removed, now centered via parent #controls */
  /* transform: translateX(-50%); Removed */
  height: var(--button-size, 90px); /* Adjusted size */
  width: var(--button-size, 90px);
  border: none;
  z-index: 900;
  transition: background-color 0.2s ease;
}

#record-button {
  position: relative; /* Change from absolute */
  /* bottom: 10%; Removed */
  /* left: 50%; Removed */
  /* transform: translateX(-50%); Removed */
  height: var(--button-size, 75px); /* Adjusted size */
  width: var(--button-size, 75px);
  background-image: url("../assets/RecordButton.png");
  background-size: cover;
  background-position: center;
  background-repeat: no-repeat;
  background-color: transparent;
  border-radius: 50%;
  border: none;
  z-index: 1000;
  transition: background-color 0.2s ease;
  cursor: pointer;
}

#record-button.pressed {
  /* background-color: green; */ /* Using image change instead */
  content: ""; /* Remove text */
}

#action-buttons {
  position: absolute;
  bottom: 5%; /* Match record button vertical position */
  left: 50%;
  transform: translate(-50%);
  display: flex;
  justify-content: center;
  align-items: center;
  gap: 30px; /* Add space between buttons */
  z-index: 1000;
  flex-wrap: nowrap; /* Prevent wrapping */
}

#back-button-container {
  position: absolute;
  top: 20px; /* Use px for consistency */
  left: 20px;
  z-index: 1000;
}

#back-button {
  transform: none;
  background-color: transparent;
  height: 50px; /* Adjusted size */
  width: 50px;
  color: transparent;
  border: none;
  cursor: pointer;
  user-select: none;
  outline: none;
  padding: 0%;
  transition: transform 0.15s ease-in-out;
  -webkit-tap-highlight-color: transparent;
  -webkit-touch-callout: none;
}
#back-button img {
  max-width: 100%;
  max-height: 100%;
  height: auto;
}

#back-button:active {
  transform: scale(0.9); /* Simple scale effect */
}

#share-button, #download-button {
  height: 65px; /* Adjusted size */
  width: 65px;
  background-color: transparent;
  transform: none; /* Remove previous transforms */
  color: transparent;
  border: none;
  cursor: pointer;
  user-select: none;
  outline: none;
  padding: 0%;
  transition: transform 0.15s ease-in-out;
  -webkit-tap-highlight-color: transparent;
  -webkit-touch-callout: none;
}

#share-button img, #download-button img {
  max-width: 100%;
  max-height: 100%;
  height: auto;
}

#share-button:active, #download-button:active {
  transform: scale(0.9); /* Simple scale effect */
}

/* Remove specific transforms from action buttons */
/*
#share-button {
  transform: translate(-25%, 0);
}
#share-button:active {
  transform: translate(calc(-25% + 2px), 2px);
}
#download-button {
  transform: translate(25%, 0);
}
#download-button:active {
  transform: translate(calc(25% + 2px), 2px);
}
*/

#switch-cam {
  position: absolute;
  top: 20px; /* Use px */
  right: 20px; /* Use px */
  z-index: 950;
}

#switch-button {
  height: 50px; /* Adjusted size */
  width: 50px;
  background-image: url("../assets/SwitchButton.png");
  background-size: contain;
  background-position: center;
  background-repeat: no-repeat;
  background-color: transparent;
  border: none;
  user-select: none;
  outline: none;
  transition: transform 0.2s ease;
  -webkit-tap-highlight-color: transparent;
  -webkit-touch-callout: none;
  cursor: pointer;
}

#switch-button:active {
  transform: scale(0.9); /* Simple scale effect */
}

#loading {
  position: fixed; /* Use fixed to center in viewport */
  top: 50%;
  left: 50%;
  transform: translate(-50%, -50%); /* Center perfectly */
  z-index: 1100; /* Ensure it's above everything */
  display: none; /* Hidden by default */
}

#loading-icon {
  height: 80px; /* Adjusted size */
  width: 80px;
  animation: spin 1.5s linear infinite; /* Slightly faster spin */
}

/* Keyframes for the rotation */
@keyframes spin {
  from {
    transform: rotate(0deg);
  }
  to {
    transform: rotate(360deg);
  }
}

/* Desktop-specific styles */
.desktop #outline {
   height: 90px; /* Keep outline slightly larger */
   width: 90px;
}
.desktop #record-button {
  height: 75px;
  width: 75px;
}

.desktop #share-button, .desktop #download-button {
  height: 65px;
  width: 65px;
}

.desktop #back-button {
  height: 50px;
  width: 50px;
}

/* Hide switch button on desktop */
.desktop #switch-cam {
  display: none;
}

/* Ensure canvas and video don't conflict when preview is active */
body.preview-active #canvas {
  display: none;
}